# ğŸ‡ëª©ì°¨

1. [ğŸ’»í”„ë¡œì íŠ¸ ì†Œê°œ](#-í”„ë¡œì íŠ¸-ì†Œê°œ)
2. [âœ ì£¼ìš” ê¸°ëŠ¥ ì†Œê°œ](#-ì£¼ìš”-ê¸°ëŠ¥-ì†Œê°œ)
   - [sub menu event](#sub-menu-event)
   - [ë¬´í•œ ë£¨í”„ ì¸ê¸° ìˆœìœ„](#ë¬´í•œ-ë£¨í”„-ì¸ê¸°-ìˆœìœ„)
   - [ë¬´í•œ ë£¨í”„ ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ](#ë¬´í•œ-ë£¨í”„-ì´ë¯¸ì§€-ìŠ¬ë¼ì´ë“œ)
   - [ìƒí’ˆ ì„ íƒ ê¸°ëŠ¥](#ìƒí’ˆ-ì„ íƒ-ê¸°ëŠ¥)
   - [Json data ê°€ì ¸ì™€ì„œ ì •ë ¬](#json-data-ê°€ì ¸ì™€ì„œ-ì •ë ¬)
   - [scroll Top btn](#scroll-top-btn)
3. [ğŸ§¾ code review](#-code-review)

   <br />

## ğŸ’» í”„ë¡œì íŠ¸ ì†Œê°œ

<div align="center">
  
   <img src="https://github.com/future9061/ohou_future/assets/132829711/763b526a-74b1-40a1-9740-72d196808230" width="50%">

//url ë„£ê¸°

   <p align="start">
     ì˜¤ëŠ˜ì˜ ì§‘ì„ í´ë¡  ì½”ë”©í•œ í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤. vanilla javascriptë¡œ ìŠ¬ë¼ì´ë“œ ë° ì¸ê¸°ìˆœìœ„ ì• ë‹ˆë©”ì´ì…˜, json ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ í•„í„°, ì •ë ¬ ë“±ì„ í•´ë³´ì•˜ìŠµë‹ˆë‹¤.<br />
    ë°˜ì‘í˜• ì•„ì§ ì•ˆí•¨
      
   </p>
</div>

<br />

## âœ ì£¼ìš” ê¸°ëŠ¥ ì†Œê°œ

- ### sub menu event

<img src="https://github.com/future9061/ohou_future/assets/132829711/69b4842f-26cd-4929-9744-e3d012ffdc0a" width="50%">

<br />

ë©”ì¸ ë©”ë‰´ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ë©´ í•˜ë‹¨ì˜ sub menuê°€ ë°”ë€ŒëŠ” ì´ë²¤íŠ¸ì…ë‹ˆë‹¤.  
ì „ì—ëŠ” ë©”ì¸ë©”ë‰´ì™€ ì„œë¸Œ ë©”ë‰´ì˜ idë¥¼ ë¹„êµí•˜ëŠ” ë°©ì‹ì„ ì£¼ë¡œ ì¼ì—ˆìœ¼ë‚˜, <br />
ì´ë²ˆì—ëŠ” id ì—†ì´ forEachì—ì„œ thisì™€ submenuë¥¼ ë¹„êµí•´ í´ë¼ìŠ¤ë¥¼ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤. <br />

#### [ì½”ë“œ ë³´ê¸°](#sub-menu)

<br />
<br />

- ### ë¬´í•œ ë£¨í”„ ì¸ê¸° ìˆœìœ„

setIntervalì´ ì•„ë‹Œ setTimeoutë¡œ ë§Œë“  ì¸ê¸°ìˆœìœ„ì…ë‹ˆë‹¤.
ì¸ê¸° ìˆœìœ„ í•¨ìˆ˜ ë‚´ì—ì„œ ì¬ê·€í˜¸ì¶œë¡œ ë¬´í•œì´ ì¸ê¸°ìˆœìœ„ê°€ ëŒì•„ê°‘ë‹ˆë‹¤.

#### [ì½”ë“œ ë³´ê¸°](#ì¸ê¸°-ìˆœìœ„)

  <br />
  <img src="https://github.com/future9061/ohou_future/assets/132829711/541b7a41-fec4-497d-9ea4-58f0b7b6747f" width="50%">

<br />
<br />

- ### ë¬´í•œ ë£¨í”„ ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ

  dom loadê°€ ëë‚˜ë©´ ë¬´í•œìœ¼ë¡œ ëŒì•„ê°€ëŠ” ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œì…ë‹ˆë‹¤.
  btn í´ë¦­ ì‹œì—ë„ ì´ë™í•˜ë„ë¡ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.

#### [ì½”ë“œ ë³´ê¸°](#img-slide)

<br />

<br />
<br />

- ### ìƒí’ˆ ì„ íƒ ê¸°ëŠ¥

ìƒí’ˆì— ìˆëŠ” í•˜íŠ¸ë¥¼ í´ë¦­í•˜ë©´ ìƒí’ˆëª…ì´ LocalStolageì— ì €ì¥ë˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.
toggle í˜•ì‹ìœ¼ë¡œ ë‘ë²ˆ í´ë¦­í•˜ë©´ localSrolageì—ì„œ ìƒí’ˆëª…ì´ ì‚¬ë¼ì§‘ë‹ˆë‹¤.

#### [ì½”ë“œ ë³´ê¸°](#ìƒí’ˆ-ì„ íƒ)

<br />
  <img src="https://github.com/future9061/ohou_future/assets/132829711/188bd7a9-2860-4760-bca5-aacb94fddff5" width="40%">

<br />
<br />

- ### Json data ê°€ì ¸ì™€ì„œ ì •ë ¬
  fetchë¡œ dataë¥¼ ê°€ì ¸ì™€ì„œ stringìœ¼ë¡œ ë§Œë“  htmlì— ì ìš©í•´ ìƒí’ˆ ë°•ìŠ¤ë¥¼ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
  sortë¡œ ê°€ê²©ìˆœì •ë ¬, ê¸€ììˆœì •ë ¬ë„ ê°€ëŠ¥í•˜ê³  ê¸€ì ì •ë ¬ì€ brandëª… ê¸°ì¤€ì…ë‹ˆë‹¤.

#### [ì½”ë“œ ë³´ê¸°](#json-data)

<br />
  <img src="https://github.com/future9061/ohou_future/assets/132829711/86766a7d-a2f9-439b-ba62-6ab76dfd02a8" width="30%" height="100px">

<br />
<br />

- ### scroll top btn
  ì‚¬ìš©ìì˜ vhë³´ë‹¤ scrollYì˜ ê°’ì´ ì»¤ì§€ë©´ top ë²„íŠ¼ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.<br />
  ë²„íŠ¼ í´ë¦­ ì‹œì—ëŠ” intervalë¡œ scrollYê°€ -55pxì”© ì˜¬ë¼ê°€ë©° scrollYê°€ 0ì´ ë˜ë©´ clear ë©ë‹ˆë‹¤.

#### [ì½”ë“œ ë³´ê¸°](#top-btn)

<br />

<br />
<br />

## ğŸ§¾ code review

<br />

#### sub menu

```javascript
const mainNav = document.querySelectorAll(".main-menu li");
const subNav = document.querySelectorAll(".sub-menu li");

mainNav.forEach((elem, index) => {
  elem.addEventListener("mouseover", function () {
    if (this === mainNav[index]) {
      subNav.forEach((a) => {
        a.classList.remove("z-index");
      });
      subNav[index].classList.add("z-index");
    }
  });
});


//css
.z-index{
  z-index : 3
}
```

<br />

#### ì¸ê¸° ìˆœìœ„

```javascript
const showList = document.querySelector(".show_list_inner ul"); //containerì¸ ulì´ margin topìœ¼ë¡œ ì´ë™
let listItemHeight = showList.firstElementChild.offsetHeight; //ì´ë™ê°’ì€ liì˜ heightê°’ (ì²«ë²ˆì§¸ liëŠ” ì§€ì†ì ìœ¼ë¡œ ë°”ë€Œê¸° ë•Œë¬¸ì— let)
let marginTop = 0; //ì´ë™í•  margin ê°’ì„ ì €ì¥í•  ë³€ìˆ˜ ìƒì„±

function moveList() {
  marginTop -= listItemHeight;
  showList.style.marginTop = `${marginTop}px`;

  showList.appendChild(showList.firstElementChild.cloneNode(true)); //li ì²«ë²ˆì§¸ë¥¼ ë³µì‚¬í•´ append
  showList.removeChild(showList.firstElementChild); // ê·¸ë¦¬ê³  ì˜¬ë¼ê°„ ì²«ë²ˆì§¸ liëŠ” ì‚­ì œ
  marginTop += listItemHeight; // ìƒˆë¡œìš´ li ë§Œë“¤ì–´ì¡Œìœ¼ë‹ˆ ë¦¬ì…‹í•¨. mtê°’ì´ ë¬´í•œì´ ì¦ê°€í•˜ì§€ ì•Šê²Œ í•œë‹¤.
  showList.style.marginTop = `${marginTop}px`;

  setTimeout(moveList, 1500); //moveList ë‚´ì—ì„œ í•¨ìˆ˜ë¥¼ ë˜ ì‹¤í–‰(ì¬ê·€í˜¸ì¶œ)
}

window.addEventListener("DOMContentLoaded", function () {
  moveList(); //dom ë¡œë“œê°€ ëë‚˜ë©´ moveList í•¨ìˆ˜ ì‹¤í–‰
});
```

<br />

#### Img slide

ë²„íŠ¼ í´ë¦­ì‹œ ì´ë™í•˜ëŠ” ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ

```javascript
const rightBtn = document.querySelector(".arrow_right");
const leftBtn = document.querySelector(".arrow_left");
const next = false; //ë²„íŠ¼ì„ êµ¬ë¶„í•  ë³€ìˆ˜ ìƒì„±
const pre = true;
const slideUl = document.querySelector(".main_banner2_wrap ul"); //margin ê°’ìœ¼ë¡œ ì›€ì§ì¼ slide container
let slideLi = document.querySelectorAll(".main_banner2_wrap ul li"); //liëŠ” ë¬´í•œ ë£¨í”„ì—ì„œ ê³„ì† ë³€ê²½ë˜ê¸° ë•Œë¬¸ì— letìœ¼ë¡œ ì„ ì–¸
const itemWidth = slideLi[0].offsetWidth; //containerê°€ ì›€ì§ì¼ margin ê°’
const totalValue = -(slideLi.length - 1) * itemWidth;
let marginValue = 0;

function moveSlide(btn) {
  if (!btn && marginValue > totalValue) {
    marginValue -= itemWidth;
    console.log(marginValue, totalValue, btn);
    slideUl.style.marginLeft = `${marginValue}px`;
  }

  if (btn && marginValue !== 0) {
    marginValue += itemWidth;
    slideUl.style.marginLeft = `${marginValue}px`;
  }
}

rightBtn.addEventListener("click", () => moveSlide(next));
leftBtn.addEventListener("click", () => {
  moveSlide(pre);
});
```

ë¬´í•œ ë£¨í”„ ì´ë¯¸ì§€ ìŠ¬ë¼ì´ë“œ

1. ulì´ marginLeftë¡œ ì´ë™í•œë‹¤
2. ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë“œë¥¼ ë³µì‚¬í•´ì„œ ulì— appendí•œ í›„ ì²«ë²ˆì§¸ lië¥¼ ì‚­ì œí•œë‹¤.
3. reset : marginLeft ê°’ì„ ì´ˆê¸°í™”í•œë‹¤.
4. ì—¬ê¸°ì„œ ì¤‘ìš”í•œ ë¶€ë¶„ì€ resetí•˜ëŠ” ê³¼ì •ì´ ë³´ì¸ë‹¤ëŠ” ì ì´ë‹¤. ë•Œë¬¸ì— ì´ë™í•˜ëŠ” í•¨ìˆ˜ì™€ ì´ˆê¸°í™” í•¨ìˆ˜ë¥¼ ë³„ë„ë¡œ ë§Œë“¤ê³  ì´ˆê¸°í™” í•¨ìˆ˜ì—ì„œëŠ” transitionì„ 0ìœ¼ë¡œ ì„¤ì •í–ˆë‹¤.

```javascript
//margin-leftë¡œ ì´ë™í•˜ëŠ” í•¨ìˆ˜
function moveMarginLeft() {
  slideLi = document.querySelectorAll(".main_banner2_wrap ul li"); //ë³€ê²½ëœ lië¡œ ì—…ë°ì´íŠ¸
  marginValue = -itemWidth;
  slideUl.style.marginLeft = `${marginValue}px`;
  slideUl.style["transition"] = "0.3s"; //transitionì„ ë³„ë„ë¡œ ì£¼ëŠ” ì´ìœ ëŠ” reset ë  ë•Œ transitionì„ 0ìœ¼ë¡œ í•´ì•¼í•˜ê¸° ë•Œë¬¸
}

//resetí•˜ëŠ” í•¨ìˆ˜ setTimeout
function resetMargin() {
  setTimeout(() => {
    slideUl.style.marginLeft = 0; //ì´ˆê¸°í™”
    slideUl.style["transition"] = "0s";
    let cloneItem = slideLi[0].cloneNode(true);
    slideUl.appendChild(cloneItem);
    slideUl.removeChild(slideLi[0]);
  }, 300);
}

function autoslide() {
  moveMarginLeft();

  resetMargin();

  setTimeout(() => {
    autoslide(); //ì¬ê·€ í˜¸ì¶œ
  }, 2000);
}

autoslide();
```

<br />

#### ìƒí’ˆ ì„ íƒ

1. í•˜íŠ¸ë¥¼ í´ë¦­í•˜ë©´ ë°°ì—´ì— ë„£ì–´ì„œ localStolageì— ë„£ëŠ”ë‹¤.
2. ë‘ ë²ˆ í´ë¦­í•˜ë©´ filterë¡œ í´ë¦­í•œ ìš”ì†Œë§Œ ì œì™¸í•˜ê³  ë°°ì—´ì„ ë°˜í™˜í•´ì„œ localstolageì— ë„£ëŠ”ë‹¤.

```javascript
const userHart = document.querySelectorAll(".fa-heart");
const post = document.querySelectorAll(".section1_box");
let stringArr = []; //localStolageì— ë„£ì„ ë°°ì—´ ì„ ì–¸

userHart.forEach((a, i) => {
  let heartTogg = false;

  a.addEventListener("click", function (e) {
    heartTogg = !heartTogg;

    if (e.target == a) {
      //í•˜íŠ¸ë¥¼ í•œë²ˆ í´ë¦­í–ˆì„ ë•Œ
      if (heartTogg) {
        a.style.color = "#00bbff";
        const postTitle = post[i].querySelector("p").innerText;
        if (!stringArr.includes(postTitle)) {
          //ì´ë¯¸ ì €ì¥ëœ ìƒí’ˆëª…ì¸ì§€ í™•ì¸
          stringArr.push(postTitle);
        }
      }
      //í•˜íŠ¸ë¥¼ ë‘ë²ˆ í´ë¦­í–ˆì„ ë•Œ
      if (!heartTogg) {
        a.style.color = "#fff";
        postTitle = post[i].querySelector("p").innerText;
        stringArr = stringArr.filter((text) => text !== postTitle); //í´ë¦­í•œ ìƒí’ˆëª… ì œì™¸í•˜ê³  return
      }
      let newStringArr = JSON.stringify(stringArr); //localì— ë„£ê¸° ìœ„í•´ stringìœ¼ë¡œ ë³€í™˜
      localStorage.setItem("post", newStringArr);
    }
  });
});
```

<br />

#### Json data

json data ê°€ì ¸ì˜¤ê¸°

1. fatchë¡œ dataë¥¼ ê°€ì ¸ì˜¨ë‹¤.
2. htmlì„ ë¬¸ìë¡œ ë§Œë“¤ì–´ì„œ dataë¥¼ ì ìš©í•œë‹¤.
3. ì²˜ìŒ í˜ì´ì§€ê°€ ë¡œë“œëì„ ë•ŒëŠ” ìƒí’ˆì´ 4ê°œë§Œ ë³´ì´ê²Œ forë¬¸ìœ¼ë¡œ ë§Œë“ ë‹¤.
4. ë” ë³´ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ container ì´ˆê¸°í™” í›„ ëª¨ë“  ìƒí’ˆì„ ë³´ì—¬ì¤€ë‹¤.
5. ë²„íŠ¼ì€ í† ê¸€ í˜•íƒœë¡œ ì§ìˆ˜ë¡œ í´ë¦­í–ˆì„ ë•Œë§Œ ëª¨ë“  ìƒí’ˆì´ ë³´ì´ê³  í™€ìˆ˜ë¡œ í´ë¦­í•˜ë©´ ìƒí’ˆì´ 4ê°œë§Œ ë³´ì¸ë‹¤.

```javascript

let btnCount = 0; //ìƒí’ˆ ë”ë³´ê¸° ë²„íŠ¼ì˜ í´ë¦­ íšŸìˆ˜ ì¹´ìš´íŠ¸

function createDealItem(image, small, p, b) {
  return `
    <div class="today_deal_item cr">
      <div class="img_wrap relative">
        <img src="${image}" alt="">
        <div class="today_timer">00:00:00 ë‚¨ìŒ</div>
      </div>
      <small>${small}</small>
      <p>${p}</p>
      <b><span>7%</span>${b}</b>
      <div class="deal_btn_wrap2">
        <button class="cr">ë¬´ë£Œë°°ì†¡</button>
        <button class="cr">íŠ¹ê°€</button>
      </div>
    </div>
  `;
}

fetch('./product.json')
  .then((res) => res.json())
  .then((data) => {
    const moreBtn = document.querySelector('.more_btn');
    const dealInner = document.querySelector('.today_deal_inner');

    function dataCom() {
      dealInner.innerHTML = '';
      for (let i = 0; i < 4; i++) {
        const { img, brand, paragraph, price } = data[i];
        dealInner.insertAdjacentHTML('beforeend', createDealItem(img, brand, paragraph, price));
      }
    }

    dataCom();

    moreBtn.addEventListener('click', function () {
      btnCount++;

      if (btnCount % 2 !== 0) {
        dealInner.innerHTML = '';
        data.forEach((item) => {
          const { img, brand, paragraph, price } = item;
          dealInner.insertAdjacentHTML('beforeend', createDealItem(img, brand, paragraph, price));
        });
      } else {
        dataCom();
      }
    });
```

<br />

ê°€ê²©ìˆœ ì •ë ¬

1. dataë¥¼ spread operatorìœ¼ë¡œ ì¹´í”¼ ë³¸ì„ ë§Œë“ ë‹¤.
2. copyDataë¥¼ sortë¡œ ì •ë ¬í•œë‹¤.
3. ìƒí’ˆ ë³´ì—¬ì¤„ ê³µê°„ì„ ì´ˆê¸°í™”í•œë‹¤.
4. sortì—ì„œ ì •ë ¬ë˜ì–´ returnëœ ë°ì´í„°ë¥¼ ë§Œë“¤ì–´ë‘” htmlì— ì ìš©í•˜ì—¬ ìƒí’ˆì„ ë³´ì—¬ì¤€ë‹¤.

```javascript

 const priceSelec = document.querySelector('.price_selec');
 const copyPrice = [...data];

    priceSelec.addEventListener('change', () => {

      if (priceSelec.value == 'ë†’ì€ ê°€ê²©ìˆœ') {
        copyPrice.sort(function (a, b) {
          const priceA = parseInt(a.price.replace(/,/g, ''));
          const priceB = parseInt(b.price.replace(/,/g, ''));
          return priceB - priceA;
        });

        dealInner.innerHTML = '';

        copyPrice.forEach(function (item) {
          const { img, brand, paragraph, price } = item
          dealInner.insertAdjacentHTML('beforeend', createDealItem(img, brand, paragraph, price));
        });
    });

```

ë‚®ì€ ê°€ê²©ìˆœê³¼ ê¸€ì ì •ë ¬ë„ ê°™ì€ ë°©ë²•ìœ¼ë¡œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤. <br />
ê¸€ì ì •ë ¬ì‹œì—ëŠ” localeCompare ë¬¸ìì—´ ë©”ì„œë“œë¡œ ë¬¸ìë¥¼ ë¹„êµí–ˆìŠµë‹ˆë‹¤.

<br />

#### top btn

1. clientHeightìœ¼ë¡œ ìŠ¤í¬ë¡¤Y ê°’ì´ ì‚¬ìš©ìì˜ vh ê°’ë³´ë‹¤ ì»¤ì§€ë©´ íƒ‘ ë²„íŠ¼ì´ ë‚˜íƒ€ë‚œë‹¤.
2. top ë²„íŠ¼ì„ í´ë¦­í•˜ë©´ setIntervalë¡œ scrollYì—ì„œ -55pxì”© ìœ„ë¡œ ì˜¬ë¼ê°„ë‹¤.
3. scrollYê°€ 0ì´ ë˜ë©´ clearIntervalë¡œ intervalì„ ì¢…ë£Œí•œë‹¤.

```javascript
//top ë²„íŠ¼ ë‚˜íƒ€ë‚˜ëŠ” í•¨ìˆ˜
const topBtn = document.querySelector(".top-btn");
const documentEle = document.documentElement;

window.addEventListener("scroll", () => {
  if (window.scrollY > documentEle.clientHeight) {
    topBtn.classList.remove("opacity");
  } else {
    topBtn.classList.add("opacity");
  }
});

//scroll ì˜¬ë¼ê°€ëŠ” í•¨ìˆ˜
let scrollInterval;

function scrollToTop() {
  if (window.scrollY !== 0) {
    window.scrollTo(0, window.scrollY - 55); //í˜„ì¬ scrollYì˜ ê°’ì—ì„œ -55ì”© ì˜¬ë¼ê°
  } else {
    clearInterval(scrollInterval);
  }
}

topBtn.addEventListener("click", () => {
  if (window.scrollY !== 0) {
    scrollInterval = setInterval(scrollToTop, 10);
  }
});
```
